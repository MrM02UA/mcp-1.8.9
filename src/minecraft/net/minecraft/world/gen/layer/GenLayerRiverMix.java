package net.minecraft.world.gen.layer;

import net.minecraft.world.biome.BiomeGenBase;

public class GenLayerRiverMix extends GenLayer
{
    private GenLayer biomePatternGeneratorChain;
    private GenLayer riverPatternGeneratorChain;

    public GenLayerRiverMix(long p_i2129_1_, GenLayer p_i2129_3_, GenLayer p_i2129_4_)
    {
        super(p_i2129_1_);
        this.biomePatternGeneratorChain = p_i2129_3_;
        this.riverPatternGeneratorChain = p_i2129_4_;
    }

    /**
     * Initialize layer's local worldGenSeed based on its own baseSeed and the world's global seed (passed in as an
     * argument).
     */
    public void initWorldGenSeed(long seed)
    {
        this.biomePatternGeneratorChain.initWorldGenSeed(seed);
        this.riverPatternGeneratorChain.initWorldGenSeed(seed);
        super.initWorldGenSeed(seed);
    }

    /**
     * Returns a list of integer values generated by this layer. These may be interpreted as temperatures, rainfall
     * amounts, or biomeList[] indices based on the particular GenLayer subclass.
     */
    public int[] getInts(int areaX, int areaY, int areaWidth, int areaHeight)
    {
        int[] lvt_5_1_ = this.biomePatternGeneratorChain.getInts(areaX, areaY, areaWidth, areaHeight);
        int[] lvt_6_1_ = this.riverPatternGeneratorChain.getInts(areaX, areaY, areaWidth, areaHeight);
        int[] lvt_7_1_ = IntCache.getIntCache(areaWidth * areaHeight);

        for (int lvt_8_1_ = 0; lvt_8_1_ < areaWidth * areaHeight; ++lvt_8_1_)
        {
            if (lvt_5_1_[lvt_8_1_] != BiomeGenBase.ocean.biomeID && lvt_5_1_[lvt_8_1_] != BiomeGenBase.deepOcean.biomeID)
            {
                if (lvt_6_1_[lvt_8_1_] == BiomeGenBase.river.biomeID)
                {
                    if (lvt_5_1_[lvt_8_1_] == BiomeGenBase.icePlains.biomeID)
                    {
                        lvt_7_1_[lvt_8_1_] = BiomeGenBase.frozenRiver.biomeID;
                    }
                    else if (lvt_5_1_[lvt_8_1_] != BiomeGenBase.mushroomIsland.biomeID && lvt_5_1_[lvt_8_1_] != BiomeGenBase.mushroomIslandShore.biomeID)
                    {
                        lvt_7_1_[lvt_8_1_] = lvt_6_1_[lvt_8_1_] & 255;
                    }
                    else
                    {
                        lvt_7_1_[lvt_8_1_] = BiomeGenBase.mushroomIslandShore.biomeID;
                    }
                }
                else
                {
                    lvt_7_1_[lvt_8_1_] = lvt_5_1_[lvt_8_1_];
                }
            }
            else
            {
                lvt_7_1_[lvt_8_1_] = lvt_5_1_[lvt_8_1_];
            }
        }

        return lvt_7_1_;
    }
}
